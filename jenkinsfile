@Library('shlib1')_
pipeline
{
    agent any
    
    tools{
    maven 'Maven'
    }
    
   stages{
   stage('Build')
        {
            steps{
              sh 'mvn clean install'
                 }
         }
         
  
        stage('Nexus'){
       steps{
    sh ' curl -v -F r=pri -F hasPom=true -F e=war -F file=@pom.xml -F file=@target/dynamic_new-1.0.war -u admin:admin123 "http://3.15.18.214:8081/nexus/service/local/artifact/maven/content" '
         
        }
        }
        
       /* stage('gitlab')
        {
            steps{
             commits()
             influx()

                 }
         }
        stage('contributors')
        {
            steps{
             contributors()
             influx()

                 }
         }*/
        }
        
        
   
 
 }
