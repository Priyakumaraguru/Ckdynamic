//@Library('shlib1')_
pipeline
{
    agent any
    
    tools{
    maven 'Maven'
    }
    
   stages{
    stage('Build')
        {
            steps{
              sh 'mvn clean install'
                 }
         }
         
  /*  stage('functional test'){
    steps{
blazeMeterTest abortJob: true, credentialsId: 'blaze', getJtl: true, getJunit: true, testId: '7425840.functionalGui', workspaceId: '390578'
}
    }
         stage('Performance Test'){
            steps{
blazeMeterTest abortJob: true, credentialsId: 'blaze', getJtl: true, getJunit: true, testId: '7425356.taurus', workspaceId: '390578'
}
} */
        stage('Nexus'){
         steps{
       mvn deploy:deploy-file -DgeneratePom=false -DrepositoryId=repo -
       Durl=http://3.15.18.214:8081/nexus/content/repositories/releases -DpomFile=pom.xml -Dfile=target/dynamic_new-1.0.war
         
         }
        }
        
        
   }
 
 }
