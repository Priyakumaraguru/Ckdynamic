//@Library('shlib1')_
pipeline
{
    agent any
    
    tools{
    maven 'Maven'
    }
    
   stages{
    stage('Build')
        {
            steps{
              sh 'mvn clean install'
                 }
         }
         
  /*  stage('functional test'){
    steps{
blazeMeterTest abortJob: true, credentialsId: 'blaze', getJtl: true, getJunit: true, testId: '7425840.functionalGui', workspaceId: '390578'
}
    }
         stage('Performance Test'){
            steps{
blazeMeterTest abortJob: true, credentialsId: 'blaze', getJtl: true, getJunit: true, testId: '7425356.taurus', workspaceId: '390578'
}
} */
        stage('Nexus'){
         steps{
      curl -v -F r=repo -F hasPom=true -F e=war -F file=@pom.xml -F file=@dynamic_new-1.0.war -u admin:admin123 http://3.15.18.214:8081/nexus/service/local/artifact/maven/content
         
         }
        }
        
        
   }
 
 }
