pipeline
{
    agent any
    tools{
    maven 'Maven'
    }

    
   stages{
    stage('Build')
        {
            steps{
              sh 'mvn clean install'
                 }
         }
         
         stage('Nexus_')
    {
     steps{
          withCredentials([usernamePassword(credentialsId: 'nexus_cred', passwordVariable: 'pass', usernameVariable: 'userId')]) {
            sh   'curl -F file=@target/dynamic_new-${BUILD_NUMBER}.war -u $userId:$pass http://3.15.18.214:8081/nexus/content/repositories/repo/dynamic_new-${BUILD_NUMBER}.war'
          }   
        }
    stage('nexus')
     {
     steps{
       nexus_artifact()
       }
       }
       }
       }
    
